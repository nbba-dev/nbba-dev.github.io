<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>NBBA Clock</title>
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <meta name="theme-color" content="#000000" />
  <meta name="application-name" content="NBBA Clock">
  <meta name="description" content="NBBA official clock and application">
  <meta name="keywords"
    content="Hecmocer, Hector, Moreno, Hector Moreno, NBBA, Bloodbowl, Tracker, Web, Application, Frontend">
  <meta name="author" content="Hecmocer">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&family=Roboto+Mono:wght@300&display=swap"
    rel="stylesheet">
</head>

<body>
  <nbba-login data-no-logout="true"></nbba-login>
  <link rel="stylesheet" href="play.css">

  <div class="pleaseRotate" id="pleaseRotate" hidden>
    Gira la pantalla
    <div class="pleaseRotate-icons">
      <span>üì±</span>
      <span>‚Ü©Ô∏è</span>
      <span class="pleaseRotate-rotated">üì±</span>
    </div>
    <button onclick="goFullscreen()">Fullscreen</button>
  </div>

  <div class="modal-overlay" id="pauseModal" hidden>
    <div class="modal">
      <div class="modal-body pause-modal-body">
        <h3>Partido en pausa</h3>
        <div id="gameRecordsContainer" class="gameRecordsContainer" hidden>
          <div id="gameRecordInsertionPoint" class="gameRecordGrid"></div>
        </div>
      </div>
      <div class="modal-controls">
        <button class="modal-bottomBtn" onclick="openSettingsModal()">Ajustes</button>
        <button class="modal-bottomBtn" onclick="openEventModal()">Nuevo suceso</button>
        <button class="modal-bottomBtn modal-continueBtn" onclick="keepGoing()">Continuar</button>
        <button class="modal-bottomBtn" onclick="openKickoffModalStandalone()">Tabla Kickoff</button>
        <button class="modal-bottomBtn" onclick="openSurrenderModal()">Conceder</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="surrenderModal" hidden>
    <div class="modal">
      <div class="modal-body pause-modal-body">
        <h3>¬øQu√© equipo quiere conceder?</h3>
        <select name="" id="surrenderTeamSelect" onchange="updateSurrenderTeam(this.value)">
          <option value="0">N/A</option>
          <option value="1">Equipo 1</option>
          <option value="2">Equipo 2</option>
        </select>
      </div>
      <div class="modal-controls">
        <button class="modal-bottomBtn modal-continueBtn" onclick="closeSurrenderModal()">Atr√°s</button>
        <button class="modal-bottomBtn" onclick="confirmSurrender()" disabled id="surrenderConfirmButton">Confirmar rendici√≥n</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="settingsModal" hidden>
    <div class="modal">
      <div class="modal-title subtle">
        <h3>Ajustes</h3>
      </div>
      <div class="modal-body">
        <div class="modal-body-onlyButtons">
          <button onclick="reset()">Nuevo partido</button>
          <button onclick="goFullscreen()">Toggle fullscreen</button>
        </div>
      </div>
      <div class="modal-controls">
        <button class="modal-bottomBtn modal-continueBtn" onclick="closeSettingsModal()">Cerrar</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="fameModal" hidden>
    <div class="modal">
      <div class="modal-title subtle">
        <h3>1. Fans y Fama</h3>
        <p>Abren las puertas del campo y empiezan a acudir los fans a las gradas</p>
      </div>
      <div class="modal-body">
        <div class="twoColumns">
          <div>
            <div><strong id="team1Name">Team1</strong></div>
            <div class="dice-roll-container">
              <div class="dice-roll">
                <div>Fan factor</div>
                <select name="" id="fanFactorTeam1">
                  <option value="0">0</option>
                  <option value="1" selected>1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                </select>
              </div>
              <div>+</div>
              <div class="dice-roll">
                <div>1D3</div>
                <select name="" id="fansRollTeam1">
                  <option value="0">N/A</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                </select>
              </div>
              <div id="resultFansTeam1"> = 1</div>
            </div>
          </div>
          <div>
            <div><strong id="team2Name">Team2</strong></div>
            <div class="dice-roll-container">
              <div class="dice-roll">
                <div>Fan factor</div>
                <select name="" id="fanFactorTeam2">
                  <option value="0">0</option>
                  <option value="1" selected>1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                </select>
              </div>
              <div>+</div>
              <div class="dice-roll">
                <div>1D3</div>
                <select name="" id="fansRollTeam2">
                  <option value="0">N/A</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                </select>
              </div>
              <div id="resultFansTeam2"> = 1</div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-controls">
        <button class="modal-bottomBtn" onclick="skipPregame()">Saltar</button>
        <button class="modal-bottomBtn modal-continueBtn" onclick="completedFame()">Continuar</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="weatherModal" hidden>
    <div class="modal">
      <div class="modal-title subtle">
        <h3>2. Clima</h3>
        <p>Los equipos saltan al campo. Los √°rbitros consultan con los meteor√≥logos nurgle el tiempo que har√° durante el
          partido</p>
      </div>
      <div class="modal-body modal-rollForResult">
        <div class="dice-roll-container">
          <div class="dice-roll">
            <div>2D6</div>
            <select name="" id="weatherValue" onchange="updateSelectedWeather(this.value)">
              <option value="0">N/A</option>
              <option value="1">üî• 2</option>
              <option value="2">‚òÄÔ∏è 3</option>
              <option value="3">üå§ 4-10</option>
              <option value="4">üå® 11</option>
              <option value="5">‚ùÑÔ∏è 12</option>
            </select>
          </div>
        </div>
        <div class="modalTable-rollForResult">
          <div class="modalTable-rollForResultRow" id="weatherRow1" hidden>
            <div>
              <span class="modalTable-emoji">üî•</span>
              <strong>Sweltering Heat</strong>
            </div>
            <div class="subtle">Some players faint in the unbearable heat!</div>
            <div>D3 randomly selected players from each team that are on the pitch when a drive ends are placed in the
              Reserves box. They must miss the next drive.</div>
          </div>
          <div class="modalTable-rollForResultRow" id="weatherRow2" hidden>
            <div>
              <span class="modalTable-emoji">‚òÄÔ∏è</span>
              <strong>Very Sunny</strong>
            </div>
            <div class="subtle">A glorious day, but the clear skies and bright sunlight interfere with the
              passing game!</div>
            <div>Apply a -1 modifier every time a player tests against their Passing Ability.</div>
          </div>
          <div class="modalTable-rollForResultRow" id="weatherRow3" hidden>
            <div>
              <span class="modalTable-emoji">üå§</span>
              <strong>Perfect Conditions</strong>
            </div>
            <div class="subtle">Neither too cold nor too hot. A warm, dry and slightly overcast day provides perfect conditions for
              Blood Bowl.</div>
              <div></div>
          </div>
          <div class="modalTable-rollForResultRow" id="weatherRow4" hidden>
            <div>
              <span class="modalTable-emoji">üå®</span>
              <strong>Pouring Rain</strong>
            </div>
            <div class="subtle">A torrential downpour leaves the players soaked and the ball very slippery!</div>
            <div>Apply a -1 modifier every time a player makes an Agility test to catch or pick-up the ball, or to
              attempt to interfere with a pass.</div>
          </div>
          <div class="modalTable-rollForResultRow" id="weatherRow5" hidden>
            <div>
              <span class="modalTable-emoji">‚ùÑÔ∏è</span>
              <strong>Blizzard</strong>
            </div>
            <div class="subtle">Freezing conditions and heavy falls of snow make the footing treacherous.</div>
            <div>Apply a -1 modifier every time a player attempts to Rush an extra square. Additionally, the poor
              visibility means that only Quick and Short passes can be attempted.</div>
          </div>
        </div>
      </div>
      <div class="modal-controls">
        <button class="modal-bottomBtn" onclick="goBackToFame()">Atr√°s</button>
        <button class="modal-bottomBtn modal-continueBtn" onclick="completedWeather()">Continuar</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="inducementsModal" hidden>
    <div class="modal">
      <div class="modal-title subtle">
        <h3>3. Incentivos</h3>
        <p>Los equipos invierten su dinero en preparar el siguiente partido</p>
      </div>
      <div class="modal-body">
        <div class="modalTable">
          <div class="modalTable-row inducementsTable-row">
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 4</strong>
                <br>
                Temp Agency Cheerleaders
              </div>
              <div class="subtle">20,000 gold pieces each</div>
            </div>
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 3</strong>
                <br>
                Part-time Assistant Coaches
              </div>
              <div class="subtle">20,000 gold pieces each</div>
            </div>
          </div>
        </div>
          <div class="modalTable-row inducementsTable-row">
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 1</strong>
                <br>
                Weather Mage
              </div>
              <div class="subtle">30,000 gold pieces</div>
            </div>
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 2</strong>
                <br>
                Bloodweiser Kegs
              </div>
              <div class="subtle">50,000 gold pieces each</div>
            </div>
          </div>
          <div class="modalTable-row inducementsTable-row">
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 5</strong>
                <br>
                Special Plays
              </div>
              <div class="subtle">100,000 gold pieces each</div>
            </div>
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 8</strong>
                <br>
                Extra Team Training
              </div>
              <div class="subtle">100,000 gold pieces each</div>
            </div>
          </div>
          <div class="modalTable-row inducementsTable-row">
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 3</strong>
                <br>
                Bribes
              </div>
              <div class="subtle">100,000 gold pieces each (50,000 gold pieces for teams with the ‚ÄòBribery and Corruption‚Äô special rule)
            </div>
            </div>
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 2</strong>
                <br>
                Wandering Apothecaries
              </div>
              <div class="subtle">100,000 gold pieces each (not available to teams that cannot hire an apothecary)</div>
            </div>
          </div>
          <div class="modalTable-row inducementsTable-row">
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 1</strong>
                <br>
                Mortuary Assistant
              </div>
              <div class="subtle">100,000 gold pieces (only available to teams with the ‚ÄòSylvanian Spotlight‚Äô special rule)</div>
            </div>
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 1</strong>
                <br>
                Plague Doctor
              </div>
              <div class="subtle">100,000 gold pieces (only available to teams with the ‚ÄòFavoured of Nurgle‚Äô special rule)</div>
            </div>
          </div>
          <div class="modalTable-row inducementsTable-row">
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 1</strong>
                <br>
                Riotous Rookies
              </div>
              <div class="subtle">100,000 gold pieces (only available to teams with the ‚ÄòLow Cost Linemen‚Äô special rule)</div>
            </div>
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 1</strong>
                <br>
                Halfling Master Chef
              </div>
              <div class="subtle">300,000 gold pieces (100,000 gold pieces for teams with the ‚ÄòHalfling Thimble Cup‚Äô special rule)</div>
            </div>
          </div>
          <div class="modalTable-row inducementsTable-row">
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>Unlimited</strong>
                <br>
                Mercenary Players
              </div>
              <div class="subtle">Price varies</div>
            </div>
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 2</strong>
                <br>
                Star Players
              </div>
              <div class="subtle">Price varies</div>
            </div>
          </div>
          <div class="modalTable-row inducementsTable-row">
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 2</strong>
                <br>
                (In)Famous Coaching Staff
              </div>
              <div class="subtle">Price varies</div>
            </div>
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 1</strong>
                <br>
                Wizard
              </div>
              <div class="subtle">Price varies</div>
            </div>
          </div>
          <div class="modalTable-row inducementsTable-row">
            <div class="modalTable-firstCell">
              <div class="inducement">
                <strong>0 - 1</strong>
                <br>
                Biased Referee
              </div>
              <div class="subtle">Price varies</div>
            </div>
          </div>
        </div>
        <div class="modal-controls">
          <button class="modal-bottomBtn" onclick="goBackToWeather()">Atr√°s</button>
        <button class="modal-bottomBtn modal-continueBtn" onclick="completedInducements()">Continuar</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="prePrayersToNuffleModal" hidden>
    <div class="modal">
      <div class="modal-title subtle">
        <h3>4. Prayers To Nuffle</h3>
      </div>
      <div class="modal-body">
        <p>The underdog can roll once per 50 difference in Team Value</p>
        <button onclick="kickoffNuffle()">Go to Nuffle table</button>
      </div>
      <div class="modal-controls">
        <button class="modal-bottomBtn" onclick="goBackToInducements()">Atr√°s</button>
        <button class="modal-bottomBtn modal-continueBtn" onclick="completedPrePrayersToNuffle()">Continuar</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="kickoffModal" hidden>
    <div class="modal">
      <div class="modal-title subtle">
        <h3>Kick-off</h3>
        <p>El bloodbowl destaca por el poco respeto que se tiene a las reglas y lo ca√≥ticos que se vuelven los partidos
        </p>
      </div>
      <div class="modal-body modal-rollForResult">
        <div class="dice-roll-container">
          <div class="dice-roll">
            <div>2D6</div>
            <select name="" onchange="updateSelectedKickoff(this.value)" id="kickoffSelect">
              <option value="0">N/A</option>
              <option value="1">2 ‚Äî Get the ref</option>
              <option value="2">3 ‚Äî Time-out</option>
              <option value="3">4 ‚Äî Solid defence</option>
              <option value="4">5 ‚Äî High kick</option>
              <option value="5">6 ‚Äî Cheering fans</option>
              <option value="6">7 ‚Äî Brilliant coaching</option>
              <option value="7">8 ‚Äî Changing weather</option>
              <option value="8">9 ‚Äî Quick snap</option>
              <option value="9">10 ‚Äî Blitz</option>
              <option value="10">11 ‚Äî Officious ref</option>
              <option value="11">12 ‚Äî Pitch invasion</option>
            </select>
          </div>
        </div>
        <div class="modalTable-rollForResult">
          <div class="modalTable-rollForResultRow" id="kickoffRow1" hidden>
            <div>
              <div><strong>2 ‚Äì GET THE REF</strong></div>
              <br>
              <div>Each team gains a free Bribe Inducement as described on page 91. This Inducement must be used before
                the end of the game or it is lost.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="kickoffRow2" hidden>
            <div>
              <div><strong>3 ‚Äì TIME-OUT</strong></div>
              <br>
              <div>If the kicking team‚Äôs turn marker is on turn 6, 7 or 8 for the half, both coaches move their turn
                marker back one space. Otherwise, both coaches move their turn marker forward one space.</div>
              <br>
              <button onclick="kickoffTimeout()">Apply</button>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="kickoffRow3" hidden>
            <div>
              <div><strong>4 ‚Äì SOLID DEFENCE</strong></div>
              <br>
              <div>D3+3 Open players on the kicking team may be removed and set up again in different locations,
                following all of the usual set-up rules.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="kickoffRow4" hidden>
            <div>
              <div><strong>5 ‚Äì HIGH KICK</strong></div>
              <br>
              <div>One Open player on the receiving team may be moved any number of squares, regardless of their MA, and
                placed in the same square the ball will land in.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="kickoffRow5" hidden>
            <div>
              <div><strong>6 ‚Äì CHEERING FANS</strong></div>
              <br>
              <div>Both coaches roll a D6 and add the number of cheerleaders on their Team Draft list. The coach with
                the highest total may immediately roll once on the Prayers to Nuffle table. In the case of a tie,
                neither coach rolls on the Prayers to Nuffle table. Note that if you roll a result that is currently in
                effect, you must re-roll it. However, if you roll a result that has been rolled previously but has since
                expired, there is no need to re-roll it.</div>
              <br>
              <button onclick="kickoffNuffle()">Go to Nuffle table</button>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="kickoffRow6" hidden>
            <div>
              <div><strong>7 ‚Äì BRILLIANT COACHING</strong></div>
              <br>
              <div>Both coaches roll a D6 and add the number of assistant coaches on their Team Draft list. The coach
                with the highest total gains one extra team re-roll for the drive ahead. If this team re- roll is not
                used before the end of this drive, it is lost. In the case of a tie, neither coach gains an extra team
                re-roll.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="kickoffRow7" hidden>
            <div>
              <div><strong>8 ‚Äì CHANGING WEATHER</strong></div>
              <br>
              <div>Make a new roll on the Weather table and apply that result. If the weather conditions are ‚ÄòPerfect
                Conditions‚Äô as a result of this roll, the ball will scatter, as described on page 25, before landing.
              </div>
              <br>
              <button onclick="kickoffChangeWeather()">Change weather</button>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="kickoffRow8" hidden>
            <div>
              <div><strong>9 ‚Äì QUICK SNAP</strong></div>
              <br>
              <div>D3+3 Open players on the receiving team may immediately move one square in any direction.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="kickoffRow9" hidden>
            <div>
              <div><strong>10 ‚Äì BLITZ</strong></div>
              <br>
              <div>D3+3 Open players on the kicking team may immediately activate to perform a Move action. One may
                perform a Blitz action and one may perform a Throw Team-mate action. If a player Falls Over or is
                Knocked Down, no further players can be activated and the Blitz ends immediately.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="kickoffRow10" hidden>
            <div>
              <div><strong>11 ‚Äì OFFICIOUS REF</strong></div>
              <br>
              <div>Both coaches roll a D6 and add their Fan Factor to the result. The coach that rolls the lowest
                randomly selects one of their players from among those on the pitch. In the case of a tie, both coaches
                randomly select a player. Roll a D6 for the selected player(s). On a roll of 2+, the player and the
                referee argue and come to blows. The player is Placed Prone and becomes Stunned. On a roll of 1 however,
                the player is immediately Sent-off, as described on page 63.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="kickoffRow11" hidden>
            <div>
              <div><strong>12 ‚Äì PITCH INVASION</strong></div>
              <br>
              <div>Both coaches roll a D6 and add their Fan Factor to the result. The coach that rolls the lowest
                randomly selects D3 of their players from among those on the pitch. In the case of a tie, both coaches
                randomly select D3 of their players from among those on the pitch. All of the randomly selected players
                are Placed Prone and become Stunned.</div>
            </div>
            <div></div>
          </div>
        </div>
      </div>
      <div class="modal-controls">
        <button class="modal-bottomBtn" id="kickoffBackBtn" onclick="goBackToNuffle()">Atr√°s</button>
        <button class="modal-bottomBtn modal-continueBtn" id="kickoffCompleted" onclick="completedKickoff()" hidden>Continuar</button>
        <button class="modal-bottomBtn modal-continueBtn" id="kickoffCompletedStandalone" onclick="completedKickoffStandalone()" hidden>Continuar</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="nuffleModal" hidden>
    <div class="modal">
      <div class="modal-title subtle">
        <h3>Cheering Fans - Prayers to Nuffle</h3>
        <p>Los fans rezan a nuffle para que bendigan a su equipo</p>
      </div>
      <div class="modal-body modal-rollForResult">
        <div class="dice-roll-container">
          <div class="dice-roll">
            <div>D16</div>
            <select name="" onchange="updateSelectedNuffle(this.value)" id="nuffleSelect">
              <option value="0">N/A</option>
              <option value="1">1 ‚Äì Treacherous trapdoor</option>
              <option value="2">2 ‚Äì Friends with the ref</option>
              <option value="3">3 ‚Äì Stiletto</option>
              <option value="4">4 ‚Äì Iron man</option>
              <option value="5">5 ‚Äì Knuckle dusters</option>
              <option value="6">6 ‚Äì Bad habits</option>
              <option value="7">7 ‚Äì Greasy cleats</option>
              <option value="8">8 ‚Äì Blessed statue of nuffle</option>
              <option value="9">9 ‚Äì Moles under the pitch</option>
              <option value="10">10 ‚Äì Perfect passing</option>
              <option value="11">11 ‚Äì Fan interaction</option>
              <option value="12">12 ‚Äì Necessary violence</option>
              <option value="13">13 ‚Äì Fouling frenzy</option>
              <option value="14">14 ‚Äì Throw a rock</option>
              <option value="15">15 ‚Äì Under scrutiny</option>
              <option value="16">16 ‚Äì Intensive training</option>
            </select>
          </div>
        </div>
        <div class="modalTable-rollForResult">
          <div class="modalTable-rollForResultRow" id="nuffle1" hidden>
            <div>
              <div><strong>1 ‚Äì TREACHEROUS TRAPDOOR</strong></div>
              <br>
              <div>Until the end of this half, every time any player enters a Trapdoor square, for any reason, roll a
                D6. On a roll of 1, the trapdoor falls open and the player is immediately removed from play. Treat them
                exactly as if they had been pushed into the crowd. If the player was in possession of the ball, it
                bounces from the trapdoor square.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle2" hidden>
            <div>
              <div><strong>2 ‚Äì FRIENDS WITH THE REF</strong></div>
              <br>
              <div>Until the end of this drive, you may treat a roll of 5 or 6 on the Argue the Call table as a ‚ÄúWell,
                When You Put It Like That...‚Äù result and a roll of 2-4 as an ‚ÄúI Don‚Äôt Care!‚Äù result.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle3" hidden>
            <div>
              <div><strong>3 ‚Äì STILETTO</strong></div>
              <br>
              <div>Randomly select one player on your team that is available to play during this drive and that does not
                have the Loner (X+) trait. Until the end of this drive, that player gains the Stab trait.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle4" hidden>
            <div>
              <div><strong>4 ‚Äì IRON MAN</strong></div>
              <br>
              <div>Choose one player on your team that is available to play during this drive and that does not have the
                Loner (X+) trait. Until the end of this game, that player improves their AV by 1, to a maximum of 11+.
              </div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle5" hidden>
            <div>
              <div><strong>5 ‚Äì KNUCKLE DUSTERS</strong></div>
              <br>
              <div>Choose one player on your team that is available to play during this drive and that does not have the
                Loner (X+) trait. Until the end of this drive, that player gains the Mighty Blow (+1) skill.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle6" hidden>
            <div>
              <div><strong>6 ‚Äì BAD HABITS</strong></div>
              <br>
              <div>Randomly select D3 opposition players that are available to play during this drive and that do not
                have the Loner (X+) trait. Until the end of this drive, those players gain the Loner (2+) trait.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle7" hidden>
            <div>
              <div><strong>7 ‚Äì GREASY CLEATS</strong></div>
              <br>
              <div>Randomly select one opposition player that is available to play during this drive. That player has
                had their boots tampered with! Until the end of this drive, their MA is reduced by 1.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle8" hidden>
            <div>
              <div><strong>8 ‚Äì BLESSED STATUE OF NUFFLE</strong></div>
              <br>
              <div>Choose one player on your team that is available to play during this drive and that does not have the
                Loner (X+) trait. Until the end of this game, that player gains the Pro skill.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle9" hidden>
            <div>
              <div><strong>9 ‚Äì MOLES UNDER THE PITCH</strong></div>
              <br>
              <div>Until the end of this half, apply a -1 modifier every time any player attempts to Rush an extra
                square (-2 should it occur that both coaches have rolled this result).</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle10" hidden>
            <div>
              <div><strong>10 ‚Äì PERFECT PASSING</strong></div>
              <br>
              <div>Until the end of this game, any player on your team that makes a Completion earns 2 SPP, rather than
                the usual 1 SPP.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle11" hidden>
            <div>
              <div><strong>11 ‚Äì FAN INTERACTION</strong></div>
              <br>
              <div>Until the end of this drive, if a player on your team causes a Casualty by pushing an opponent into
                the crowd, that player will earn 2 SPP exactly as if they had caused a Casualty by performing a Block
                action.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle12" hidden>
            <div>
              <div><strong>12 ‚Äì NECESSARY VIOLENCE</strong></div>
              <br>
              <div>Until the end of this drive, any player on your team that causes a Casualty earns 3 SPP, rather than
                the usual 2 SPP.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle13" hidden>
            <div>
              <div><strong>13 ‚Äì FOULING FRENZY</strong></div>
              <br>
              <div>Until the end of this drive, any player on your team that causes a Casualty with a Foul action earns
                2 SPP exactly as if they had caused a Casualty by performing a Block action.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle14" hidden>
            <div>
              <div><strong>14 ‚Äì THROW A ROCK</strong></div>
              <br>
              <div>Until the end of this drive, should an opposition player Stall, at the end of their team turn you may
                roll a D6. On a roll of 5+, an angry fan throws a rock at that player. The player is immediately Knocked
                Down.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle15" hidden>
            <div>
              <div><strong>15 ‚Äì UNDER SCRUTINY</strong></div>
              <br>
              <div>Until the end of this half, any player on the opposing team that commits a Foul action is
                automatically seen by the referee, even if a natural double is not rolled.</div>
            </div>
          </div>
          <div class="modalTable-rollForResultRow" id="nuffle16" hidden>
            <div>
              <div><strong>16 ‚Äì INTENSIVE TRAINING</strong></div>
              <br>
              <div>Randomly select one player on your team that is available to play during this drive and that does not
                have the Loner (X+) trait. Until the end of this game, that player gains a single Primary skill of your
                choice.</div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-controls">
        <button class="modal-bottomBtn modal-continueBtn" onclick="completedNuffle()">Continuar</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="outcomeModal" hidden>
    <div class="modal">
      <div class="modal-title subtle">
        <h3>1. Outcome</h3>
        <p>Los √°rbitros ponen en com√∫n lo ocurrido durante el partido</p>
      </div>
        <div class="modal-body pause-modal-body">
          <div id="noGameRecordsEndgame" class="noGameRecordsEndgame">
            Sorprendentemente ha sido un partido limpio
          </div>
          <div id="gameRecordsContainerEndgame" class="gameRecordsContainer" hidden>
            <div id="gameRecordInsertionPointEndgame" class="gameRecordGrid"></div>
          </div>
        </div>
      <div class="modal-controls">
        <button class="modal-bottomBtn" onclick="openEventModal()">Nuevo suceso</button>
        <button class="modal-bottomBtn modal-continueBtn" onclick="completedOutcome()">Continuar</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="eventModal" hidden>
    <div class="modal">
      <div class="modal-title subtle">
        <h2>Nuevo suceso</h2>
      </div>
      <div class="modal-body">
        <div id="eventButtons" class="modal-body-onlyButtons">
          <button onclick="openTouchdown()">¬°Touchdown!</button>
          <button onclick="openInjury()">¬°Herida!</button>
          <button onclick="openPass()">¬°Pase!</button>
        </div>
        <div id="touchdownForm" class="pauseForm" hidden>
          <div>
            <div>
              <select name="" id="touchdownHalf">
                <option value="1">Primera parte</option>
                <option value="2">Segunda parte</option>
              </select>
            </div>
            <div>
              <select name="" id="touchdownTurn">
                <option value="1">Turno 1</option>
                <option value="2">Turno 2</option>
                <option value="3">Turno 3</option>
                <option value="4">Turno 4</option>
                <option value="5">Turno 5</option>
                <option value="6">Turno 6</option>
                <option value="7">Turno 7</option>
                <option value="8">Turno 8</option>
              </select>
            </div>
          </div>
          <div>
            Equipo:
            <select name="" id="touchdownTeam">
              <option value="1">Team1</option>
              <option value="2">Team2</option>
            </select>
          </div>
          <div>Dorsal:
            <select name="" id="touchdownPlayer">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
            </select>
          </div>
        </div>
        <div id="injuryForm" class="pauseForm" hidden>
          <div class="twoColumns">
            <div>
              <div>
                <div>
                  <select name="" id="injuryHalf">
                    <option value="1">Primera parte</option>
                    <option value="2">Segunda parte</option>
                  </select>
                </div>
                <div>
                  <select name="" id="injuryTurn">
                    <option value="1">Turno 1</option>
                    <option value="2">Turno 2</option>
                    <option value="3">Turno 3</option>
                    <option value="4">Turno 4</option>
                    <option value="5">Turno 5</option>
                    <option value="6">Turno 6</option>
                    <option value="7">Turno 7</option>
                    <option value="8">Turno 8</option>
                  </select>
                </div>
              </div>
              <div>
                <div>
                  <b>Herido</b>
                  <div>
                    Equipo:
                    <select name="" id="injuryHurtTeam">
                      <option value="1">Team1</option>
                      <option value="2">Team2</option>
                    </select>
                  </div>
                  <div>Dorsal:
                    <select name="" id="injuryHurtPlayer">
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                      <option value="6">6</option>
                      <option value="7">7</option>
                      <option value="8">8</option>
                      <option value="9">9</option>
                      <option value="10">10</option>
                      <option value="11">11</option>
                    </select>
                  </div>
                </div>
                <div>
                  <input type="checkbox" id="attackingInjuryPlayerInput" onchange="onAttackingInjuryPlayerUpdate()">
                  <label for="attackingInjuryPlayerInput"><b>Agresor</b></label>
                  <div id="attackingInjuryPlayerForm" hidden>
                    <div>
                      Equipo:
                      <select name="" id="injuryHurtingTeam">
                        <option value="1">Team1</option>
                        <option value="2">Team2</option>
                      </select>
                    </div>
                    <div>Dorsal:
                      <select name="" id="injuryHurtingPlayer">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <div class="dice-roll-container dice-roll-container-inline">
                <div class="dice-roll">
                  <div>2D6</div>
                  <select name="" id="injuryRollSelect">
                    <option value="0">N/A</option>
                    <option value="1">2-7: Stunned</option>
                    <option value="2">8-9: KO'd</option>
                    <option value="3">10: Casualty (Badly hurt)</option>
                    <option value="4">11: Casualty (Seriously hurt)</option>
                    <option value="5">12: DEAD</option>
                  </select>
                </div>
              </div>
              <div class="injuryHelp helpText" hidden>* Sent to the Reserves box if a player is off the pitch</div>
              <div class="injuryHelp helpText" hidden>* The player is removed from the pitch and placed in the Knocked-out
                box</div>
              <div class="injuryHelp helpText" hidden>* Miss the rest of the match</div>
              <div class="injuryHelp helpText" hidden>* Miss next game</div>
              <div class="injuryHelp helpText" hidden>* This player is far too dead to play!</div>
              <!-- <div class="helpText">(1) Recuerda que puedes usar un <b>apotecario</b> para curar la herida</div> -->
              <div class="helpText">(1) Los jugadores stunty sufren <b>KO</b> con resultado de <b>7</b></div>
              <div class="helpText">(2) Los jugadores stunty sufren <b>Casualty (badly hurt)</b> con resultado de <b>9</b></div>
            </div>
          </div>
        </div>
        <div id="passForm" class="pauseForm" hidden>
          <div>
            <div>
              <select name="" id="passHalf">
                <option value="1">Primera parte</option>
                <option value="2">Segunda parte</option>
              </select>
            </div>
            <div>
              <select name="" id="passTurn">
                <option value="1">Turno 1</option>
                <option value="2">Turno 2</option>
                <option value="3">Turno 3</option>
                <option value="4">Turno 4</option>
                <option value="5">Turno 5</option>
                <option value="6">Turno 6</option>
                <option value="7">Turno 7</option>
                <option value="8">Turno 8</option>
              </select>
            </div>
          </div>
          <div>
            Equipo:
            <select name="" id="passTeam">
              <option value="1">Team1</option>
              <option value="2">Team2</option>
            </select>
          </div>
          <div>Dorsal:
            <select name="" id="passPlayer">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
            </select>
          </div>
          <div>Tipo de pase:
            <select name="" id="passType">
              <option value="0">N/A</option>
              <option value="1">Hand-off (Only AG)</option>
              <option value="2">Quick Pass (PA +0)</option>
              <option value="3">Short Pass (PA -1)</option>
              <option value="4">Long Pass (PA -2)</option>
              <option value="5">Long Bomb (PA -3)</option>
            </select>
          </div>
        </div>
      </div>
      <div class="modal-controls">
        <button id="eventBackButton" class="modal-bottomBtn" onclick="openPauseModal()">Atr√°s</button>
        <button class="modal-bottomBtn modal-continueBtn" onclick="closeEventModal()">Cerrar</button>
        <button id="confirmInjuryButton" class="modal-bottomBtn" onclick="confirmInjury()" disabled hidden>Confirmar herida</button>
        <button id="confirmTouchdownButton" class="modal-bottomBtn" onclick="confirmTouchdown()" hidden>Confirmar touchdown</button>
        <button id="confirmPassButton" class="modal-bottomBtn" onclick="confirmPass()" hidden>Confirmar pase</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="winningsModal" hidden>
    <div class="modal">
      <div class="modal-title subtle">
        <h3>2. Winnings</h3>
        <p>Las marcas apoyan a los equipos favoritos a golpe de talonario</p>
      </div>
      <div class="modal-body">
        <div class="winningsContainer">
          <div>
            <div id="team1Name">Team1</div>
            <div id="team1winnings" class="winningsNumber"></div>
          </div>
          <div>
            <div id="team2Name">Team2</div>
            <div id="team2winnings" class="winningsNumber"></div>
          </div>
        </div>
        <ul class="winningsExplanation">
          <li>Add together the FAME of both teams, then divide the result by 2.</li>
          <li>Add the number of friendly touchdowns to the result.</li>
          <li>Multiply the total by 10.</li>
        </ul>
        <ul class="winningsExplanationOnSurrender" id="winningsOnSurrender" hidden>
          <li>Conceding teams do not receive any winnings unless being reduced to 3 or less players during a set-up</li>
        </ul>
      </div>
      <div class="modal-controls">
        <button class="modal-bottomBtn modal-continueBtn" onclick="completedWinnings()">Continuar</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="fanFactorModal" hidden>
    <div class="modal">
      <div class="modal-title subtle">
        <h3>3. Update fan factor</h3>
        <p>Los hinchas aplauden el espect√°culo recibido</p>
      </div>
      <div class="modal-body">
        <div class="dice-roll-container">
          <div class="dice-roll">
            <div>Fan factor</div>
            <div id="winningsFanFactorTeam1"></div>
          </div>
          <div>&</div>
          <div class="dice-roll">
            <div>1D3</div>
            <select name="" id="winningsFanFactorRollTeam1" onchange="updateFanFactorTeam1(this.value)">
              <option value="0">N/A</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
            </select>
          </div>
          <div>=</div>
          <div id="winningsFanFactorResultTeam1"></div>
        </div>
        <div class="dice-roll-container">
          <div class="dice-roll">
            <div>Fan factor</div>
            <div id="winningsFanFactorTeam2"></div>
          </div>
          <div>&</div>
          <div class="dice-roll">
            <div>1D3</div>
            <select name="" id="winningsFanFactorRollTeam2" onchange="updateFanFactorTeam2(this.value)">
              <option value="0">N/A</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
            </select>
          </div>
          <div>=</div>
          <div id="winningsFanFactorResultTeam2"></div>
        </div>
      </div>
      <div class="modal-controls">
        <button class="modal-bottomBtn modal-continueBtn" onclick="completedFanFactor()">Continuar</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="sppModal" hidden>
    <div class="modal">
      <div class="modal-title subtle">
        <h3>¬°Final del partido!</h3>
        <p>Los jugadores vivos se suben al autob√∫s y vuelven a casa con sus familias</p>
      </div>
      <div class="modal-body">
        <p>
          El acta se subir√° autom√°ticamente.
        </p>
        <p>
          Recuerda actualizar el roster antes del siguiente partido a trav√©s de las hojas oficiales de la liga.
        </p>
        <p>
          Ha sido un placer acompa√±arles en este partido.
        </p>
        <p>
          ¬°Bien jugado!
        </p>
      </div>
      <div class="modal-controls">
        <button class="modal-bottomBtn modal-continueBtn" onclick="goToHome()">Nuevo partido</button>
      </div>
    </div>
  </div>

  <div class="page page2" id="page2">
    <div class="score">
      <div class="team1-score-name team-score-name">
        <img src="" id="team1Logo" class="team-logo-mini" alt="">
        <div id="team1Name" class="team-score-only-name">
          Equipo 1
        </div>
      </div>
      <div class="teams-scoreboard">
        <span id="team1Scoreboard">0</span>
        <span>‚Äì</span>
        <span id="team2Scoreboard">0</span>
      </div>
      <div class="team2-score-name team-score-name">
        <div id="team2Name" class="team-score-only-name">
          Equipo 2
        </div>
        <img src="" id="team2Logo" class="team-logo-mini" alt="">
      </div>
    </div>
    <div class="gameInfo-container">
      <div class="half" id="half">
        Primera Parte
      </div>
      <div class="half weather" id="weather" hidden></div>
    </div>
    <button class="team-turn team1-turn" id="team1Turn" onclick="clickOnTurn1()">
      <div class="team-turn-content">
        <div class="team-turn-time" id="team1TurnTime">Empezar</div>
      </div>
    </button>
    <button class="team-turn team2-turn" id="team2Turn" onclick="clickOnTurn2()">
      <div class="team-turn-content">
        <div class="team-turn-time" id="team2TurnTime">Empezar</div>
      </div>
    </button>
    <div class="pause-turn-container" id="pauseTurnContainer">
      <button class="pause-turn" onclick="pauseGame()">Pausa</button>
    </div>
    <div class="turns">
      <div class="team-turn-turn">Turno: <span class="team-turn-number" id="team1TurnTurn">0</span></div>
      <div class="team-turn-turn">Turno: <span class="team-turn-number" id="team2TurnTurn">0</span></div>
    </div>
  </div>

  <div class="delay-container" id="delayContainer" hidden>
    <div class="delay" id="elapsedDelay"></div>
  </div>

  <div class="endgame-overlay" id="endgameOverlay" hidden>
    <div class="score">
      <div class="team1-score-name team-score-name">
        <img src="" id="team1Logo" class="team-logo-mini" alt="">
        <div id="team1Name" class="team-score-only-name">
          Equipo 1
        </div>
      </div>
      <div class="teams-scoreboard">
        <span id="team1Scoreboard">0</span>
        <span>‚Äì</span>
        <span id="team2Scoreboard">0</span>
      </div>
      <div class="team2-score-name team-score-name">
        <div id="team2Name" class="team-score-only-name">
          Equipo 2
        </div>
        <img src="" id="team2Logo" class="team-logo-mini" alt="">
      </div>
    </div>
    <div class="gameInfo-container">
      <div class="half" id="half">
        Fin del partido
      </div>
    </div>
    <div class="endgame-main">
      <div class="endgameShowRecord">
        <button onclick="startAfterMatch()">Post partido</button>
      </div>
      <div class="endgame-logos">
        <div class="endgame-winner" id="endgameTeam1" hidden>
          <img id="team1Logo" src="../multimedia/team0.png" alt="" height="100%">
        </div>
        <div class="endgame-winner" id="endgameTeam2" hidden>
          <img id="team2Logo" src="../multimedia/team0.png" alt="" height="100%">
        </div>
      </div>
      <!-- <a class="subir-acta" target="_blank" href="https://api.sheet2site.com/api/v3/index.php?key=14qEDsEraC6B0wK7vZGxOMP4I6sxiLB2FtADJ9zehoOA&g=1">¬°Subir el acta!</a> -->
    </div>
  </div>

  <div class="modal-overlay" id="loadingModal">
    <div class="modal">
      <div class="modal-body">
        Loading team information
        <p class="subtle">It will be just a second...</p>
      </div>
      <div class="modal-controls"></div>
    </div>
  </div>

  <script type="module" src='../shared/domUtils.js'></script>
  <script type="module" src='playUtils.js'></script>
  <script type="module" src='play.js'></script>

  <script src="../thirdParty/confetti.js"></script>

</body>

</html>